(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8340],{20063:(e,r,t)=>{"use strict";var s=t(47260);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},35050:(e,r,t)=>{Promise.resolve().then(t.bind(t,50633))},46528:(e,r,t)=>{"use strict";t.d(r,{L7:()=>n,nV:()=>s});class s{static async updateQuestionProgress(e){return n.updateQuestionProgress(e)}static async updateAssessmentProgress(e){return n.updateAssessmentProgress(e)}static async getUserProgress(e,r){return n.getUserProgress(e,r)}static async getDomainProgress(e,r){return n.getDomainProgress(e,r)}static async getLearningAnalytics(e){return n.getLearningAnalytics(e)}async updateQuestionProgress(e){e.timestamp=new Date,console.log("Updating question progress in Supabase (placeholder)",e)}async updateAssessmentProgress(e){e.timestamp=new Date,console.log("Updating assessment progress in Supabase (placeholder)",e)}async getUserProgress(e,r){return console.log("Fetching user progress from Supabase (placeholder) for userId:",e,"moduleId:",r),null}async getDomainProgress(e,r){return console.log("Fetching domain progress from Supabase (placeholder) for userId:",e,"domain:",r),[]}async getCertificationProgress(e){return console.log("Fetching certification progress from Supabase (placeholder) for userId:",e),null}async getLearningAnalytics(e){return console.log("Generating learning analytics from Supabase (placeholder) for userId:",e),{overallProgress:0,domainBreakdown:{},studyPatterns:{averageSessionTime:0,peakPerformanceHours:[],consistencyScore:0},recommendations:[],nextMilestones:[]}}}let n=new s;s.updateQuestionProgress=n.updateQuestionProgress.bind(n),s.updateAssessmentProgress=n.updateAssessmentProgress.bind(n),s.getUserProgress=n.getUserProgress.bind(n),s.getDomainProgress=n.getDomainProgress.bind(n),s.getLearningAnalytics=n.getLearningAnalytics.bind(n)},50633:(e,r,t)=>{"use strict";t.d(r,{default:()=>c});var s=t(95155),n=t(52619),a=t.n(n),o=t(20063),i=t(12115),l=t(65380),u=t(82459);let d=JSON.parse('{"version":1,"updatedAt":"2025-09-21T00:00:00.000Z","modules":[{"id":"asking-questions","slug":"asking-questions","title":"Asking Questions","description":"Master natural language questions and sensor basics","domain":"Asking Questions","order":1},{"id":"refining-questions","slug":"refining-questions","title":"Refining Questions & Targeting","description":"Advanced targeting with groups and filters","domain":"Refining Questions & Targeting","order":2},{"id":"taking-action","slug":"taking-action","title":"Taking Action","description":"Safe package deployment and action execution","domain":"Taking Action","order":3},{"id":"navigation-modules","slug":"navigation-modules","title":"Navigation & Basic Modules","description":"Navigate the console and core modules","domain":"Navigation and Basic Module Functions","order":4},{"id":"reporting-export","slug":"reporting-export","title":"Reporting & Data Export","description":"Report creation and data export","domain":"Report Generation and Data Export","order":5}]}');function c(){let e=(0,o.usePathname)()||"",{user:r}=(0,l.A)(),t=[...d.modules].sort((e,r)=>e.order-r.order),[n,c]=(0,i.useState)({}),g=(0,i.useMemo)(()=>t.map(e=>e.id),[t]);function m(e){let{pct:r}=e,t=Math.max(0,Math.min(1,null!=r?r:0)),n=Math.round(5*t),a="Progress: ".concat(Math.round(100*t),"%");return(0,s.jsx)("div",{"aria-label":a,className:"flex items-center gap-1","data-testid":"progress",children:Array.from({length:5}).map((e,r)=>{let t=r<n;return(0,s.jsx)("span",{"data-testid":"progress-dot","data-filled":t?"true":"false",className:["h-1.5 w-1.5 rounded-full",t?"bg-blue-500":"bg-slate-300 dark:bg-slate-700"].join(" ")},r)})})}return(0,i.useEffect)(()=>{let e=!1;return async function(){if(!(null==r?void 0:r.id))return;let t=await Promise.all(g.map(async e=>[e,await (0,u.U)(r.id,e)]));if(!e){let e={};for(let[r,s]of t)e[r]=s;c(e)}}(),()=>{e=!0}},[null==r?void 0:r.id,g.join("|")]),(0,s.jsxs)("nav",{"aria-label":"Study modules navigation",className:"w-full md:w-64 md:min-h-[calc(100vh-4rem)] md:border-r md:border-slate-200 dark:md:border-slate-800 md:pr-4",children:[(0,s.jsx)("div",{className:"px-4 py-3 md:px-0",children:(0,s.jsx)("h2",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Curriculum"})}),(0,s.jsx)("ul",{className:"space-y-1 px-2 md:px-0 pb-4",children:t.map(r=>{var t,o;let i=(o=r.slug,e==="/learn/".concat(o));return(0,s.jsx)("li",{children:(0,s.jsx)(a(),{href:"/learn/".concat(r.slug),className:["block rounded px-3 py-2 text-sm transition-colors",i?"bg-blue-600 text-white":"text-slate-700 hover:bg-slate-100 dark:text-slate-200 dark:hover:bg-slate-800"].join(" "),"aria-current":i?"page":void 0,children:(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,s.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,s.jsx)("span",{className:"font-medium truncate",children:r.title}),r.description?(0,s.jsx)("span",{className:"text-xs opacity-75 truncate",children:r.description}):null]}),(0,s.jsx)(m,{pct:null==(t=n[r.id])?void 0:t.percentage})]})})},r.id)})})]})}},62890:(e,r,t)=>{"use strict";t.d(r,{N:()=>i});var s=t(65040),n=t(95704);let a="https://qnwcwoutgarhqxlgsjzs.supabase.co",o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFud2N3b3V0Z2FyaHF4bGdzanpzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY2NzM0MjgsImV4cCI6MjA3MjI0OTQyOH0.nooeC4pyNsoRok5zKat9iwUk9rgCfz_b5SWqZ7_dgtQ";if(!a)throw Error("NEXT_PUBLIC_SUPABASE_URL is required. Check your .env.local file.");if(!o)throw Error("NEXT_PUBLIC_SUPABASE_ANON_KEY is required. Check your .env.local file.");let i=(0,s.UU)(a||"",o||"");n.env.SUPABASE_SERVICE_ROLE_KEY&&(0,s.UU)(a||"",n.env.SUPABASE_SERVICE_ROLE_KEY,{auth:{autoRefreshToken:!1,persistSession:!1}})},65380:(e,r,t)=>{"use strict";t.d(r,{A:()=>i,O:()=>l});var s=t(95155),n=t(62890),a=t(12115);let o=(0,a.createContext)(void 0);function i(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}function l(e){let{children:r}=e,[t,i]=(0,a.useState)({user:null,session:null,loading:!0,error:null});(0,a.useEffect)(()=>{(async()=>{try{let{data:{session:e},error:r}=await n.N.auth.getSession();if(r){console.error("Error getting initial session:",r),i(e=>({...e,error:r,loading:!1}));return}i(r=>{var t;return{...r,session:e,user:null!=(t=null==e?void 0:e.user)?t:null,loading:!1,error:null}})}catch(e){console.error("Unexpected error getting session:",e),i(r=>({...r,loading:!1,error:e}))}})();let{data:{subscription:e}}=n.N.auth.onAuthStateChange(async(e,r)=>{var t;console.log("Auth state changed:",e,null==r||null==(t=r.user)?void 0:t.id),i(e=>{var t;return{...e,session:r,user:null!=(t=null==r?void 0:r.user)?t:null,loading:!1,error:null}}),"SIGNED_IN"===e&&(null==r?void 0:r.user)||"SIGNED_OUT"===e&&(localStorage.removeItem("tco-progress"),localStorage.removeItem("tco-exam-session"),localStorage.removeItem("tco-incorrect-answers"),localStorage.removeItem("tco-settings"),localStorage.removeItem("tco-search-history"))});return()=>{e.unsubscribe()}},[]);let l=async(e,r)=>{i(e=>({...e,loading:!0,error:null}));try{let{error:t}=await n.N.auth.signInWithPassword({email:e,password:r});return t&&i(e=>({...e,error:t,loading:!1})),{error:t}}catch(e){return i(r=>({...r,error:e,loading:!1})),{error:e}}},u=async(e,r,t)=>{i(e=>({...e,loading:!0,error:null}));try{let{error:s}=await n.N.auth.signUp({email:e,password:r,options:{data:{first_name:(null==t?void 0:t.firstName)||"",last_name:(null==t?void 0:t.lastName)||""}}});return s&&i(e=>({...e,error:s,loading:!1})),{error:s}}catch(e){return i(r=>({...r,error:e,loading:!1})),{error:e}}},d=async()=>{i(e=>({...e,loading:!0,error:null}));try{let{error:e}=await n.N.auth.signOut();return e&&i(r=>({...r,error:e,loading:!1})),{error:e}}catch(e){return i(r=>({...r,error:e,loading:!1})),{error:e}}},c=async e=>{try{let{error:r}=await n.N.auth.resetPasswordForEmail(e,{redirectTo:"".concat(window.location.origin).concat("","/auth/reset-password")});return{error:r}}catch(e){return{error:e}}},g=async e=>{if(!t.user)return{error:{message:"No user logged in"}};try{let{error:r}=await n.N.auth.updateUser({data:{first_name:e.firstName,last_name:e.lastName}});if(r)return{error:r};return{error:null}}catch(e){return{error:e}}},m={...t,signIn:l,signUp:u,signOut:d,resetPassword:c,updateProfile:g};return(0,s.jsx)(o.Provider,{value:m,children:r})}},82459:(e,r,t)=>{"use strict";t.d(r,{U:()=>a,k:()=>i});var s=t(46528),n=t(62890);async function a(e,r){try{var t,a,i,l,u;let{data:d,error:c}=await n.N.from("user_module_progress").select("completed_sections,total_sections,last_updated").eq("user_id",e).eq("module_id",r).limit(1);if(c)throw c;let g=Array.isArray(d)?d[0]:d;if(g){let e=Number(null!=(t=g.completed_sections)?t:0),s=Number(null!=(a=g.total_sections)?a:0),n=s>0?o(e/s):0;return{moduleId:r,percentage:n,completed:e,total:s,updatedAt:g.last_updated?new Date(g.last_updated):void 0}}let m=await s.nV.getUserProgress(e,r),p=function(e){var r,t,s,n,a;if(!e)return 0;if("number"==typeof e.averageScore)return o(e.averageScore);let i=Number(null!=(t=null!=(r=e.completedQuestions)?r:e.questionsCompleted)?t:0),l=Number(null!=(a=null!=(n=null!=(s=e.totalQuestions)?s:e.questionsTotal)?n:e.questionsAttempted)?a:0);return l>0?o(i/l):0}(m);return{moduleId:r,percentage:p,completed:null!=(i=null==m?void 0:m.completedQuestions)?i:void 0,total:null!=(l=null==m?void 0:m.totalQuestions)?l:void 0,updatedAt:null!=(u=null==m?void 0:m.lastActivity)?u:void 0}}catch(e){return{moduleId:r,percentage:0}}}function o(e){return Number.isNaN(e)?0:Math.max(0,Math.min(1,e))}async function i(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await s.nV.getLearningAnalytics(e),[]}catch(e){return[]}}}},e=>{e.O(0,[5376,5040,2619,8441,1255,7358],()=>e(e.s=35050)),_N_E=e.O()}]);