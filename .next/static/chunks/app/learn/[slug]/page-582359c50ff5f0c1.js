(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6309],{60080:(e,t,r)=>{"use strict";r.d(t,{z:()=>y});var n=r(95704);let i=n.env.NEXT_PUBLIC_POSTHOG_KEY||"",o="true"===(n.env.NEXT_PUBLIC_ANALYTICS_DEBUG||"").toLowerCase(),l=(n.env.NEXT_PUBLIC_POSTHOG_HOST||"https://us.i.posthog.com").replace(/\/$/,""),a="ph_distinct_id",u=null;function c(){return"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():Math.random().toString(36).slice(2)+Date.now().toString(36)}function s(){if(u)return u;try{let e=localStorage.getItem(a);if(e)return u=e;let t=c();return localStorage.setItem(a,t),u=t,t}catch(e){return u=c()}}async function d(e,t){if(!i)return;let r={api_key:i,event:e,properties:{distinct_id:s(),$current_url:function(){try{return window.location.href}catch(e){return}}(),...t},timestamp:function(){try{return new Date().toISOString()}catch(e){return""}}()},n="".concat(l,"/e/");try{var a;if(o&&console.debug("[analytics]",e,{...r.properties,timestamp:r.timestamp}),null==(a=navigator)?void 0:a.sendBeacon){let e=new Blob([JSON.stringify(r)],{type:"application/json"});navigator.sendBeacon(n,e)}else await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),keepalive:!0})}catch(e){}}let y={init:()=>!!i,capture:(e,t)=>d(e,t),pageview:e=>d("$pageview",e?{path:e}:void 0),identify(e,t){if(e)return d("$identify",{distinct_id:s(),$user_id:e,...t})}}},83752:(e,t,r)=>{"use strict";r.d(t,{default:()=>l});var n=r(95155),i=r(12115),o=r(60080);function l(e){let{youtubeId:t,title:r,start:l,moduleSlug:a}=e,u=(0,i.useRef)(null),c=(0,i.useRef)(null);return(0,i.useEffect)(()=>{o.z.capture("video_impression",{provider:"youtube",youtubeId:t,title:r,moduleSlug:a});let e=u.current;if(!e)return;let n=!1,i=new IntersectionObserver(e=>{for(let l of e)if(!n&&l.isIntersecting&&l.intersectionRatio>=.5){o.z.capture("video_visible",{provider:"youtube",youtubeId:t,title:r,moduleSlug:a}),n=!0;try{i.disconnect()}catch(e){}break}},{threshold:[.5]});return i.observe(e),()=>{try{i.disconnect()}catch(e){}}},[t,r,a]),(0,i.useEffect)(()=>{let e=null,n={25:!1,50:!1,75:!1,100:!1};return(async()=>{await function(){var e;let t=window;return(null==(e=t.YT)?void 0:e.Player)?Promise.resolve():(t.__ytApiPromise||(t.__ytApiPromise=new Promise(e=>{let r=document.createElement("script");r.src="https://www.youtube.com/iframe_api",r.async=!0,document.head.appendChild(r);let n=t.onYouTubeIframeAPIReady;t.onYouTubeIframeAPIReady=function(){if("function"==typeof n)try{n()}catch(e){}e()}})),t.__ytApiPromise)}();let i=window,s=u.current;if(!s)return;let d=window;d.__ytAttachQueue=d.__ytAttachQueue||[],d.__ytAttachRunning=d.__ytAttachRunning||!1,d.__ytAttachQueue.push(()=>{var u;if(null==(u=c.current)?void 0:u.destroy){try{c.current.destroy()}catch(e){}c.current=null}let d=!1,y=0,p=()=>{y+=1;let u=setTimeout(()=>{if(!d){try{var e,t;null==(t=c.current)||null==(e=t.destroy)||e.call(t)}catch(e){}y<=3&&setTimeout(p,800)}},7e3);c.current=new i.YT.Player(s,{host:"https://www.youtube-nocookie.com",videoId:t,playerVars:{origin:window.location.origin,rel:0,modestbranding:1,playsinline:1,start:l&&l>0?l:void 0},events:{onReady:()=>{d=!0;try{clearTimeout(u)}catch(e){}},onStateChange:i=>{var l,u,s,d,y,p;let f=i.data;if(1===f)o.z.capture("video_play",{provider:"youtube",youtubeId:t,title:r,moduleSlug:a}),e||(e=setInterval(()=>{try{var e,i,l,u;let s=(null==(i=c.current)||null==(e=i.getDuration)?void 0:e.call(i))||0,d=(null==(u=c.current)||null==(l=u.getCurrentTime)?void 0:l.call(u))||0;if(s>0){let e=Math.round(d/s*100);[25,50,75,100].forEach(i=>{!n[i]&&e>=i&&(n[i]=!0,o.z.capture("video_progress",{provider:"youtube",youtubeId:t,title:r,moduleSlug:a,milestone:i}))})}}catch(e){}},1e3));else if(2===f){try{let e=(null==(u=c.current)||null==(l=u.getDuration)?void 0:l.call(u))||0,n=(null==(d=c.current)||null==(s=d.getCurrentTime)?void 0:s.call(d))||0,i=e?Math.round(n/e*100):0;o.z.capture("video_pause",{provider:"youtube",youtubeId:t,title:r,moduleSlug:a,position:Math.floor(n),percent:i})}catch(e){}e&&(clearInterval(e),e=null)}else if(0===f){try{let e=(null==(p=c.current)||null==(y=p.getDuration)?void 0:y.call(p))||0;o.z.capture("video_complete",{provider:"youtube",youtubeId:t,title:r,moduleSlug:a,duration:Math.floor(e)})}catch(e){}e&&(clearInterval(e),e=null)}},onError:()=>{try{clearTimeout(u)}catch(e){}try{var e,t;null==(t=c.current)||null==(e=t.destroy)||e.call(t)}catch(e){}y<=3&&setTimeout(p,800)}}})};p()}),(()=>{if(d.__ytAttachRunning)return;d.__ytAttachRunning=!0;let e=()=>{let t=d.__ytAttachQueue.shift();if(t){try{t()}catch(e){}setTimeout(e,500)}else d.__ytAttachRunning=!1};e()})()})(),()=>{try{e&&clearInterval(e)}catch(e){}try{var t,r;null==(r=c.current)||null==(t=r.destroy)||t.call(r)}catch(e){}}},[t,l,r,a]),(0,n.jsx)("div",{ref:u,className:"w-full aspect-video overflow-hidden rounded-lg border border-slate-200 dark:border-slate-800 bg-black","aria-label":r})}},94960:(e,t,r)=>{Promise.resolve().then(r.bind(r,83752))}},e=>{e.O(0,[8441,1255,7358],()=>e(e.s=94960)),_N_E=e.O()}]);