(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6497],{3998:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var n=r(95155),a=r(12115),i=r(32467),l=r(83101),s=r(64269);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/50 focus-visible:shadow-[0_0_20px_rgba(34,211,238,0.15)] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-cyan-600 text-white shadow-[0_0_20px_rgba(34,211,238,0.1)] hover:bg-cyan-500 hover:shadow-[0_0_30px_rgba(34,211,238,0.15)] hover:scale-105 border border-cyan-500/50",destructive:"bg-red-600 text-white shadow-[0_0_20px_rgba(239,68,68,0.1)] hover:bg-red-500 hover:shadow-[0_0_30px_rgba(239,68,68,0.15)] border border-red-500/50",outline:"border border-cyan-500/30 bg-black/20 backdrop-blur-xl text-cyan-100 shadow-[0_0_20px_rgba(34,211,238,0.05)] hover:bg-cyan-500/10 hover:text-cyan-400 hover:shadow-[0_0_30px_rgba(34,211,238,0.1)]",secondary:"bg-slate-600 text-slate-100 shadow-[0_0_20px_rgba(71,85,105,0.1)] hover:bg-slate-500 hover:shadow-[0_0_30px_rgba(71,85,105,0.15)] border border-slate-500/50",ghost:"text-cyan-100 hover:bg-cyan-500/10 hover:text-cyan-400",link:"text-cyan-400 underline-offset-4 hover:underline hover:text-cyan-300"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,n.jsx)(u,{className:(0,s.cn)(o({variant:a,size:l,className:r})),ref:t,...c})});d.displayName="Button"},11647:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var n=r(95155);r(12115);var a=r(83101),i=r(64269);let l=(0,a.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function s(e){let{className:t,variant:r,...a}=e;return(0,n.jsx)("div",{className:(0,i.cn)(l({variant:r}),t),...a})}},32467:(e,t,r)=>{"use strict";r.d(t,{DX:()=>s,Dc:()=>d,TL:()=>l});var n=r(12115),a=r(94446),i=r(95155);function l(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:r,...i}=e;if(n.isValidElement(r)){var l;let e,s,o=(l=r,(s=(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.ref:(s=(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?l.props.ref:l.props.ref||l.ref),d=function(e,t){let r={...t};for(let n in t){let a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...e)=>{let t=i(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...i}:"className"===n&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==n.Fragment&&(d.ref=t?(0,a.t)(t,o):o),n.cloneElement(r,d)}return n.Children.count(r)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=n.forwardRef((e,r)=>{let{children:a,...l}=e,s=n.Children.toArray(a),o=s.find(c);if(o){let e=o.props.children,a=s.map(t=>t!==o?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...l,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,a):null})}return(0,i.jsx)(t,{...l,ref:r,children:a})});return r.displayName=`${e}.Slot`,r}var s=l("Slot"),o=Symbol("radix.slottable");function d(e){let t=({children:e})=>(0,i.jsx)(i.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=o,t}function c(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},40023:(e,t,r)=>{"use strict";r.d(t,{D:()=>c,t:()=>d});var n=r(95155),a=r(12115),i=r(66013),l=r(65380),s=r(62890);let o=(0,a.createContext)(void 0);function d(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useDatabase must be used within a DatabaseProvider");return e}function c(e){let{children:t}=e,{user:r}=(0,l.A)(),a=(0,i.t)(r),d={supabase:s.N,...a,useRealtimeSubscription:i.M};return(0,n.jsx)(o.Provider,{value:d,children:t})}},47937:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},52056:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(71847).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},64269:(e,t,r)=>{"use strict";r.d(t,{J8:()=>l,cn:()=>i});var n=r(2821),a=r(75889);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}function l(e){switch(e.toLowerCase()){case"beginner":return"text-green-600 dark:text-green-400";case"intermediate":return"text-yellow-600 dark:text-yellow-400";case"advanced":return"text-red-600 dark:text-red-400";default:return"text-gray-600 dark:text-gray-400"}}},71847:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(12115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:u,...f}=e;return(0,n.createElement)("svg",{ref:t,...l,width:a,height:a,stroke:r,strokeWidth:o?24*Number(s)/Number(a):s,className:i("lucide",d),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(f)&&{"aria-hidden":"true"},...f},[...u.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let r=(0,n.forwardRef)((r,l)=>{let{className:o,...d}=r;return(0,n.createElement)(s,{ref:l,iconNode:t,className:i("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...d})});return r.displayName=a(e),r}},83101:(e,t,r)=>{"use strict";r.d(t,{F:()=>l});var n=r(2821);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=n.$,l=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return i(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:l,defaultVariants:s}=t,o=Object.keys(l).map(e=>{let t=null==r?void 0:r[e],n=null==s?void 0:s[e];if(null===t)return null;let i=a(t)||a(n);return l[e][i]}),d=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return i(e,o,null==t||null==(n=t.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:r,className:n,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...s,...d}[t]):({...s,...d})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},86948:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>s,wL:()=>u});var n=r(95155),a=r(12115),i=r(64269);let l=a.forwardRef((e,t)=>{let{className:r,variant:a="cyberpunk",...l}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("rounded-xl border text-card-foreground shadow",{default:"bg-card",cyberpunk:"relative bg-black/20 backdrop-blur-xl border-cyan-500/20 text-cyan-100 shadow-[0_0_50px_rgba(34,211,238,0.1)] transition-all duration-200 ease-out hover:shadow-[0_0_80px_rgba(34,211,238,0.15)] hover:scale-[1.03] hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/50"}[a],r),...l})});l.displayName="Card";let s=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});s.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},91214:(e,t,r)=>{Promise.resolve().then(r.bind(r,97308))},94446:(e,t,r)=>{"use strict";r.d(t,{s:()=>l,t:()=>i});var n=r(12115);function a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let r=!1,n=e.map(e=>{let n=a(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():a(e[t],null)}}}}function l(...e){return n.useCallback(i(...e),e)}},97308:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var n=r(95155),a=r(12115),i=r(65380),l=r(40023),s=r(52619),o=r.n(s),d=r(86948),c=r(3998),u=r(11647),f=r(47937),g=r(52056);function p(e){let{modules:t}=e,{user:r}=(0,i.A)(),s=(0,l.t)(),[p,h]=(0,a.useState)([]),[m,v]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=!0;return(async()=>{v(!0);try{if(r){let r=(await s.getUserStudyProgress()).filter(e=>"needs_review"===e.status),n={};for(let e of r){let t=e.module_id,r=e.section_id;t&&r&&(n[t]||(n[t]=[])).push(r)}let a=[];for(let[e,r]of Object.entries(n)){let n=t[e];if(n)for(let t of r)a.push({module_id:e,module_title:n.title,slug:n.slug,section_id:t,section_title:"Section ".concat(t)})}e&&h(a)}else{let r=[];for(let[e,n]of Object.entries(t)){let t="tco-study-progress:".concat(e);try{let a=localStorage.getItem(t);if(!a)continue;let i=JSON.parse(a);for(let t of Array.isArray(null==i?void 0:i.sections)?i.sections:[])(null==t?void 0:t.needsReview)&&!(null==t?void 0:t.completed)&&r.push({module_id:e,module_title:n.title,slug:n.slug,section_id:t.id||"",section_title:t.title||"Section"})}catch(e){}}e&&h(r)}}catch(t){e&&h([])}finally{e&&v(!1)}})(),()=>{e=!1}},[null==r?void 0:r.id]);let x=(0,a.useMemo)(()=>{let e=new Map;for(let t of p){let r=t.module_id;e.has(r)||e.set(r,{title:t.module_title,slug:t.slug,items:[]}),e.get(r).items.push({id:t.section_id,title:t.section_title})}return Array.from(e.entries()).map(e=>{let[t,r]=e;return{id:t,...r}})},[p]);if(m)return(0,n.jsx)("div",{className:"text-center text-gray-300",children:"Loading review itemsâ€¦"});let y=(0,a.useMemo)(()=>{let e=new Set;for(let t of p){let r={"platform-foundation":"Fundamentals","asking-questions":"Asking Questions","refining-questions-targeting":"Refining Questions & Targeting","taking-action-packages-actions":"Taking Action","navigation-basic-modules":"Navigation and Basic Module Functions","reporting-data-export":"Report Generation and Data Export"}[t.slug];r&&e.add(r)}return Array.from(e)},[p]),b=(0,a.useMemo)(()=>{if(0===y.length)return null;let e=encodeURIComponent(y.join(",")),t=Math.min(p.length||25,25);return"/practice?domains=".concat(e,"&count=").concat(t,"&quick=1&reveal=1")},[y,p.length]);return(0,n.jsxs)("div",{className:"space-y-6",children:[b&&(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(c.$,{className:"bg-cyan-700 hover:bg-cyan-600",asChild:!0,children:(0,n.jsx)(o(),{href:b,children:"Start Mixed Review"})})}),0===x.length?(0,n.jsxs)(d.Zp,{className:"border-green-500/30 bg-green-900/20",children:[(0,n.jsx)(d.aR,{children:(0,n.jsxs)(d.ZB,{className:"flex items-center gap-2 text-green-200",children:[(0,n.jsx)(f.A,{className:"h-5 w-5"})," You're all caught up!"]})}),(0,n.jsx)(d.Wu,{className:"text-green-100",children:"No sections are flagged for review. Keep studying!"})]}):x.map(e=>(0,n.jsxs)(d.Zp,{className:"border-yellow-500/30 bg-yellow-900/20",children:[(0,n.jsx)(d.aR,{children:(0,n.jsxs)(d.ZB,{className:"flex items-center gap-2 text-yellow-200",children:[(0,n.jsx)(g.A,{className:"h-5 w-5"})," ",e.title,(0,n.jsxs)(u.E,{variant:"outline",className:"ml-2 border-yellow-500/50 text-yellow-200",children:[e.items.length," to review"]})]})}),(0,n.jsxs)(d.Wu,{children:[(0,n.jsx)("div",{className:"mb-3 flex justify-end",children:(()=>{let t={"platform-foundation":"Fundamentals","asking-questions":"Asking Questions","refining-questions-targeting":"Refining Questions & Targeting","taking-action-packages-actions":"Taking Action","navigation-basic-modules":"Navigation and Basic Module Functions","reporting-data-export":"Report Generation and Data Export"}[e.slug]||"";return t?(0,n.jsx)(c.$,{className:"bg-cyan-700 hover:bg-cyan-600",asChild:!0,title:"Start practice for ".concat(e.title),children:(0,n.jsx)(o(),{href:"/practice?domain=".concat(encodeURIComponent(t),"&count=25&quick=1&reveal=1"),children:"Start Practice"})}):null})()}),(0,n.jsx)("ul",{className:"space-y-2",children:e.items.map(t=>(0,n.jsx)("li",{children:(0,n.jsx)(o(),{href:"/modules/".concat(e.slug,"#").concat(encodeURIComponent(t.id)),className:"text-yellow-100 hover:underline",children:t.title})},t.id))})]})]},e.id))]})}}},e=>{e.O(0,[4909,5376,5040,2619,5404,8441,1255,7358],()=>e(e.s=91214)),_N_E=e.O()}]);