(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[502],{1998:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>P});var r=t(95155),a=t(12115),n=t(67909),i=t(20063),o=t(3998),l=t(24058),c=t(64269),d=t(31719);let u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.bL,{className:(0,c.cn)("grid gap-2",t),...a,ref:s})});u.displayName=l.bL.displayName;let m=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.q7,{ref:s,className:(0,c.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,r.jsx)(l.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(d.RiX,{className:"h-3.5 w-3.5 fill-primary"})})})});m.displayName=l.q7.displayName;var x=t(44846),p=t(11186),g=t(86948),h=t(11647),f=t(80991),N=t(18332),w=t(30814),y=t(85921),S=t(6613),b=t(42529),v=t(48314),j=t(35626),A=t(26983),T=t(52987),E=t(34784),O=t(56189),R=t(60080),C=t(103),I=t(64057),k=t(95704);let _=(0,n.default)(()=>t.e(4697).then(t.bind(t,87078)).then(e=>e.QuestionCard),{loadableGenerated:{webpack:()=>[87078]},ssr:!1,loading:()=>(0,r.jsx)("div",{className:"glass border-white/10 p-6 text-white/80",children:"Loading questionâ€¦"})});function D(){var e;let s=(0,i.useRouter)(),n="1"===(k.env.NEXT_PUBLIC_TEST_HOOKS||"").toString(),l=(0,i.useSearchParams)(),{state:d,startExam:D,answerQuestion:P,nextQuestion:G,previousQuestion:q,finishExam:L,resetExam:M,getCurrentQuestion:U,getProgress:F,getScore:Q}=(0,E.v)(),[V,K]=(0,a.useState)(""),[z,B]=(0,a.useState)(25),[W,H]=(0,a.useState)(!0),[X,Y]=(0,a.useState)("all"),{updateSessionStats:Z}=(0,I.p)(),[J,$]=(0,a.useState)(0),ee=(0,a.useRef)(!1),es=U(),et=F(),er=Q(),ea=es&&et.current===et.total,en=1===et.current;(0,a.useEffect)(()=>{es&&d.currentSession&&K(d.currentSession.answers[es.id]||"")},[es,d.currentSession]);let ei=async e=>{var s,r,a;M();try{let t,a=null!=(s=null==e?void 0:e.domain)?s:X,i=null!=(r=null==e?void 0:e.count)?r:z;if((null==e?void 0:e.domains)&&e.domains.length>0){let s=e.domains,r=Math.max(1,Math.ceil(i/s.length)),a=[];for(let e of s)try{let s=await C.questionService.getPracticeQuestions(e,r);a.push(...s)}catch(e){}t=a.sort(()=>Math.random()-.5).slice(0,i)}else t="all"!==a?await C.questionService.getPracticeQuestions(a,i):await C.questionService.getRandomQuestions(i);R.z.capture("practice_start",{count:t.length}),await D(O.ExamMode.PRACTICE,t),(null==e?void 0:e.autofinish)&&n&&setTimeout(()=>L(),50)}catch(o){let s;console.warn("Falling back to client-weighted questions due to DB error",o);let{getWeightedRandomQuestions:r}=await Promise.resolve().then(t.bind(t,91055)),i=null!=(a=null==e?void 0:e.count)?a:z;if((null==e?void 0:e.domains)&&e.domains.length>0){let{TCODomain:a}=await Promise.resolve().then(t.bind(t,56189)),n=r(2*i),o=e.domains.map(e=>e.toLowerCase()),l=n.filter(e=>o.includes(String(e.domain).toLowerCase()));s=(l.length>0?l:n).slice(0,i)}else s=r(i);R.z.capture("practice_start",{count:s.length,fallback:!0}),await D(O.ExamMode.PRACTICE,s),(null==e?void 0:e.autofinish)&&n&&setTimeout(()=>L(),50)}};function eo(e){var s;if(!e)return null;let t=decodeURIComponent(e).trim(),r={aq:O.TCODomain.ASKING_QUESTIONS,asking:O.TCODomain.ASKING_QUESTIONS,"asking questions":O.TCODomain.ASKING_QUESTIONS,rq:O.TCODomain.REFINING_TARGETING,refining:O.TCODomain.REFINING_TARGETING,"refining questions & targeting":O.TCODomain.REFINING_TARGETING,ta:O.TCODomain.TAKING_ACTION,"taking action":O.TCODomain.TAKING_ACTION,nb:O.TCODomain.NAVIGATION_MODULES,navigation:O.TCODomain.NAVIGATION_MODULES,"navigation and basic module functions":O.TCODomain.NAVIGATION_MODULES,rd:O.TCODomain.REPORTING_EXPORT,reporting:O.TCODomain.REPORTING_EXPORT,"report generation and data export":O.TCODomain.REPORTING_EXPORT},a=t.toLowerCase();return Object.values(O.TCODomain).includes(t)?t:null!=(s=r[a])?s:null}let el=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(!l)return;let e=l.get("quick"),s=eo(l.get("domain")),t=function(e){if(!e)return null;let s=decodeURIComponent(e).split(/[,;]+/).map(e=>e.trim()).filter(Boolean),t=[];for(let e of s){let s=eo(e);s&&t.push(s)}return t.length>0?Array.from(new Set(t)):null}(l.get("domains")),r=Number(l.get("count")||25),a=l.get("reveal"),i=l.get("autofinish"),o=Number(l.get("autowrong")||0);if(s&&Y(s),r&&[25,50,75,100].includes(r)&&B(r),"1"===a&&H(!0),"1"===e&&!el.current&&!d.currentSession){el.current=!0;let e=null!=s?s:X,a=r||z;setTimeout(()=>{t?ei({domains:t,count:a,autofinish:n&&"1"===i}):ei({domain:e,count:a,autofinish:n&&"1"===i})},0)}n&&$(o>0?Math.min(o,10):0)},[l]),(0,a.useEffect)(()=>{if(!n||J<=0)return;let e=d.currentSession;if(e&&Array.isArray(e.questions)&&0!==e.questions.length)try{let t=Math.min(J,e.questions.length);for(let r=0;r<t;r++){var s;let t=e.questions[r],a=(null==(s=t.choices.find(e=>e.id!==t.correctAnswerId))?void 0:s.id)||"a";P(t.id,a)}}catch(e){}},[d.currentSession,J]);let ec=async()=>{M(),await D(O.ExamMode.PRACTICE)};if((0,a.useEffect)(()=>{var e;if((null==(e=d.currentSession)?void 0:e.completed)&&!ee.current){let{score:e=0,questions:s=[],answers:t={}}=d.currentSession,r=Array.isArray(s)?s.filter(e=>t[e.id]===e.correctAnswerId).length:0,a=Array.isArray(s)?s.length:0;R.z.capture("practice_complete",{score:e,correctCount:r,totalCount:a}),ee.current=!0,Z(e,a,d.currentSession.endTime&&d.currentSession.startTime?Math.max(0,Math.floor((d.currentSession.endTime.getTime()-d.currentSession.startTime.getTime())/1e3)):0,"all"!==X?X:void 0)}},[null==(e=d.currentSession)?void 0:e.completed]),d.isLoading)return(0,r.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,r.jsx)(g.Zp,{className:"glass border-white/10 p-8",children:(0,r.jsxs)("div",{className:"space-y-4 text-center",children:[(0,r.jsx)("div",{className:"mx-auto h-12 w-12 animate-spin rounded-full border-b-2 border-tanium-accent"}),(0,r.jsx)("p",{className:"text-white",children:"Preparing your practice session..."})]})})});if(!d.currentSession)return(0,r.jsxs)("div",{className:"mx-auto max-w-4xl space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"mb-4 text-4xl font-bold text-white",children:"Practice Mode"}),(0,r.jsx)("p",{className:"mb-8 text-xl text-gray-200",children:"Test your knowledge with interactive questions and instant feedback"})]}),(0,r.jsxs)(g.Zp,{className:"glass border-white/10",children:[(0,r.jsx)(g.aR,{children:(0,r.jsxs)(g.ZB,{className:"flex items-center gap-3 text-white",children:[(0,r.jsx)(w.A,{className:"h-6 w-6 text-tanium-accent"}),"Practice Session Overview"]})}),(0,r.jsxs)(g.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"mb-2 text-2xl font-bold text-tanium-accent",children:z}),(0,r.jsx)("div",{className:"text-sm text-gray-300",children:"Questions"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"mb-2 text-2xl font-bold text-green-400",children:["~",Math.max(8,Math.round(+z))]}),(0,r.jsx)("div",{className:"text-sm text-gray-300",children:"Minutes"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"mb-2 text-2xl font-bold text-yellow-400",children:"Mixed"}),(0,r.jsx)("div",{className:"text-sm text-gray-300",children:"Difficulty"})]})]}),(0,r.jsxs)("div",{className:"grid gap-3 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-sm text-gray-300",children:"Domain"}),(0,r.jsxs)(p.Select,{value:X,onValueChange:Y,children:[(0,r.jsx)(p.SelectTrigger,{className:"border-white/20 bg-black/40 text-white",children:(0,r.jsx)(p.SelectValue,{placeholder:"All Domains"})}),(0,r.jsxs)(p.SelectContent,{className:"bg-black/80 text-white",children:[(0,r.jsx)(p.SelectItem,{value:"all",children:"All Domains"}),(0,r.jsx)(p.SelectItem,{value:O.TCODomain.ASKING_QUESTIONS,children:"Asking Questions"}),(0,r.jsx)(p.SelectItem,{value:O.TCODomain.REFINING_TARGETING,children:"Refining Questions & Targeting"}),(0,r.jsx)(p.SelectItem,{value:O.TCODomain.TAKING_ACTION,children:"Taking Action"}),(0,r.jsx)(p.SelectItem,{value:O.TCODomain.NAVIGATION_MODULES,children:"Navigation & Module Functions"}),(0,r.jsx)(p.SelectItem,{value:O.TCODomain.REPORTING_EXPORT,children:"Reporting & Data Export"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("div",{className:"text-sm text-gray-300",children:"Number of questions"}),(0,r.jsx)(u,{value:String(z),onValueChange:e=>B(parseInt(e,10)),className:"grid grid-cols-4 gap-2",children:[25,50,75,100].map(e=>(0,r.jsxs)("label",{className:"flex cursor-pointer items-center justify-center rounded-md border border-white/20 px-2 py-2 text-white hover:bg-white/10",children:[(0,r.jsx)(m,{value:String(e),id:"count-".concat(e),className:"peer sr-only"}),(0,r.jsx)("span",{className:"peer-data-[state=checked]:font-semibold",children:e})]},e))})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"text-sm text-gray-300",children:"Reveal correct answer and explanation after selection"}),(0,r.jsx)(x.d,{checked:W,onCheckedChange:H})]}),(0,r.jsxs)(N.Fc,{className:"border-blue-200 bg-blue-50/10 dark:border-blue-800 dark:bg-blue-900/20",children:[(0,r.jsx)(w.A,{className:"h-4 w-4 text-blue-400"}),(0,r.jsxs)(N.TN,{className:"text-blue-200",children:[(0,r.jsx)("strong",{children:"Practice Mode Features:"})," Immediate feedback, explanations for answers, no time pressure, and the ability to review questions."]})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)(o.$,{onClick:()=>ei(),size:"lg",className:"bg-tanium-accent text-white hover:bg-blue-600",children:[(0,r.jsx)(y.A,{className:"mr-2 h-5 w-5"}),"Start Practice Session"]})})]})]})]});if(d.currentSession.completed){let{score:e=0,questions:t,answers:a}=d.currentSession,n=t.filter(e=>a[e.id]===e.correctAnswerId).length,i=t.length;return(0,r.jsxs)("div",{className:"mx-auto max-w-4xl space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"mb-4 text-4xl font-bold text-white",children:"Practice Complete!"}),(0,r.jsx)("p",{className:"text-xl text-gray-200",children:"Hereâ€™s how you performed"})]}),(0,r.jsxs)(g.Zp,{className:"glass border-white/10",children:[(0,r.jsx)(g.aR,{children:(0,r.jsxs)(g.ZB,{className:"flex items-center gap-3 text-white",children:[(0,r.jsx)(S.A,{className:"h-6 w-6 text-yellow-400"}),"Your Results"]})}),(0,r.jsxs)(g.Wu,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"mb-2 text-6xl font-bold text-tanium-accent",children:[e,"%"]}),(0,r.jsxs)("div",{className:"text-gray-300",children:[n," out of ",i," correct"]})]}),(0,r.jsx)(f.k,{value:e,className:"h-4"}),(0,r.jsxs)(N.Fc,{className:(0,c.cn)("border-2",e>=80?"border-green-500 bg-green-900/20":e>=60?"border-yellow-500 bg-yellow-900/20":"border-red-500 bg-red-900/20"),children:[(0,r.jsx)(b.A,{className:(0,c.cn)("h-4 w-4",e>=80?"text-green-400":e>=60?"text-yellow-400":"text-red-400")}),(0,r.jsx)(N.TN,{className:"text-gray-200",children:e>=80?"Excellent work! You're well prepared.":e>=60?"Good progress! Review the questions you missed.":"Keep studying! Focus on your weak areas."})]}),(0,r.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,r.jsxs)(o.$,{onClick:ec,className:"bg-tanium-accent hover:bg-blue-600",children:[(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Try Again"]}),(0,r.jsxs)(o.$,{variant:"outline",onClick:()=>s.push("/"),className:"border-white/20 text-white hover:bg-white/10",children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})]})]})]})]})}return(0,r.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Practice Mode"}),(0,r.jsxs)("p",{className:"text-gray-300",children:["Question ",et.current," of ",et.total]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)(h.E,{variant:"outline",className:"border-white/20 text-white",children:["Score: ",er,"%"]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-gray-300",children:[(0,r.jsx)(A.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"No time limit"})]})]})]}),(0,r.jsx)(f.k,{value:et.percentage,className:"h-3"}),es&&(0,r.jsx)(_,{question:es,questionNumber:et.current,totalQuestions:et.total,selectedAnswer:V,onAnswerSelect:e=>{K(e),es&&P(es.id,e)},showResult:W&&!!V,showExplanation:W&&!!V}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(o.$,{variant:"outline",onClick:()=>{q()},disabled:en,className:"border-white/20 text-white hover:bg-white/10 disabled:opacity-50",children:[(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Previous"]}),(0,r.jsx)("div",{className:"text-sm text-gray-400",children:V?"Answer selected":"Select an answer to continue"}),(0,r.jsx)(o.$,{onClick:()=>{ea?L():G()},disabled:!V,className:"bg-tanium-accent hover:bg-blue-600 disabled:opacity-50","aria-label":ea?"Finish Practice Session":"Go to Next Question",children:ea?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Finish Practice"]}):(0,r.jsxs)(r.Fragment,{children:["Next",(0,r.jsx)(T.A,{className:"ml-2 h-4 w-4"})]})})]})]})}function P(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"glass border-white/10 p-6 text-white/80",children:"Loading..."})}),children:(0,r.jsx)(D,{})})}},11186:(e,s,t)=>{"use strict";t.d(s,{Select:()=>l,SelectContent:()=>x,SelectItem:()=>p,SelectTrigger:()=>d,SelectValue:()=>c});var r=t(95155),a=t(12115),n=t(47887),i=t(64269),o=t(31719);let l=n.bL;n.YJ;let c=n.WT,d=a.forwardRef((e,s)=>{let{className:t,children:a,...l}=e;return(0,r.jsxs)(n.l9,{ref:s,className:(0,i.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[placeholder]:text-muted-foreground [&>span]:line-clamp-1",t),...l,children:[a,(0,r.jsx)(n.In,{asChild:!0,children:(0,r.jsx)(o.D3D,{className:"h-4 w-4 opacity-50"})})]})});d.displayName=n.l9.displayName;let u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.PP,{ref:s,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(o.Mtm,{className:"h-4 w-4"})})});u.displayName=n.PP.displayName;let m=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.wn,{ref:s,className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(o.D3D,{className:"h-4 w-4"})})});m.displayName=n.wn.displayName;let x=a.forwardRef((e,s)=>{let{className:t,children:a,position:o="popper",...l}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsxs)(n.UC,{ref:s,className:(0,i.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] origin-[--radix-select-content-transform-origin] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,...l,children:[(0,r.jsx)(u,{}),(0,r.jsx)(n.LM,{className:(0,i.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(m,{})]})})});x.displayName=n.UC.displayName,a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.JU,{ref:s,className:(0,i.cn)("px-2 py-1.5 text-sm font-semibold",t),...a})}).displayName=n.JU.displayName;let p=a.forwardRef((e,s)=>{let{className:t,children:a,...l}=e;return(0,r.jsxs)(n.q7,{ref:s,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(o.Srz,{className:"h-4 w-4"})})}),(0,r.jsx)(n.p4,{children:a})]})});p.displayName=n.q7.displayName,a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.wv,{ref:s,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",t),...a})}).displayName=n.wv.displayName},18332:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>l,TN:()=>c});var r=t(95155),a=t(12115),n=t(83101),i=t(64269);let o=(0,n.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=a.forwardRef((e,s)=>{let{className:t,variant:a,...n}=e;return(0,r.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(o({variant:a}),t),...n})});l.displayName="Alert",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",t),...a})}).displayName="AlertTitle";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",t),...a})});c.displayName="AlertDescription"},27880:(e,s,t)=>{Promise.resolve().then(t.bind(t,1998))},44846:(e,s,t)=>{"use strict";t.d(s,{d:()=>o});var r=t(95155),a=t(12115),n=t(27599),i=t(64269);let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.bL,{className:(0,i.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...a,ref:s,children:(0,r.jsx)(n.zi,{className:(0,i.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});o.displayName=n.bL.displayName},64057:(e,s,t)=>{"use strict";t.d(s,{V:()=>m,p:()=>x});var r=t(95155),a=t(65380),n=t(66013),i=t(56189),o=t(12115);let l={totalQuestions:0,correctAnswers:0,sessionCount:0,studyStreak:0,lastStudyDate:null,hoursStudied:0,averageScore:0,examReadiness:"Poor",domainScores:{[i.TCODomain.ASKING_QUESTIONS]:{score:0,questionsAnswered:0,correctAnswers:0,timeSpent:0},[i.TCODomain.REFINING_QUESTIONS]:{score:0,questionsAnswered:0,correctAnswers:0,timeSpent:0},[i.TCODomain.REFINING_TARGETING]:{score:0,questionsAnswered:0,correctAnswers:0,timeSpent:0},[i.TCODomain.TAKING_ACTION]:{score:0,questionsAnswered:0,correctAnswers:0,timeSpent:0},[i.TCODomain.NAVIGATION_MODULES]:{score:0,questionsAnswered:0,correctAnswers:0,timeSpent:0},[i.TCODomain.REPORTING_EXPORT]:{score:0,questionsAnswered:0,correctAnswers:0,timeSpent:0},[i.TCODomain.SECURITY]:{score:0,questionsAnswered:0,correctAnswers:0,timeSpent:0},[i.TCODomain.FUNDAMENTALS]:{score:0,questionsAnswered:0,correctAnswers:0,timeSpent:0},[i.TCODomain.TROUBLESHOOTING]:{score:0,questionsAnswered:0,correctAnswers:0,timeSpent:0}},achievements:[],weeklyGoal:5,weeklyProgress:0,timeSpent:0,moduleProgress:{},assessmentScores:{},streak:0,recentSessions:[]},c={progress:l,isLoading:!1,error:null};function d(e,s){switch(s.type){case"LOAD_PROGRESS":return{...e,progress:s.payload,isLoading:!1};case"UPDATE_SESSION_STATS":{let{score:t,questionsCount:r,timeSpent:a,domain:n}=s.payload,i=e.progress.totalQuestions+r,o=e.progress.correctAnswers+Math.round(t/100*r),l=Math.round(o/i*100),c=e.progress.hoursStudied+a/3600,d="Poor";l>=85?d="Excellent":l>=75?d="Good":l>=60&&(d="Fair");let u={...e.progress,totalQuestions:i,correctAnswers:o,sessionCount:e.progress.sessionCount+1,hoursStudied:c,averageScore:l,examReadiness:d,weeklyProgress:e.progress.weeklyProgress+1};if(n){let s=e.progress.domainScores[n],i=Math.round(t/100*r),o=s.questionsAnswered+r,l=s.correctAnswers+i,c=Math.round(l/o*100);u.domainScores[n]={score:c,questionsAnswered:o,correctAnswers:l,timeSpent:s.timeSpent+a}}return u.recentSessions=[{domain:n,score:t,questions:r,time:a,at:new Date().toISOString()},...e.progress.recentSessions||[]].slice(0,10),{...e,progress:u}}case"UPDATE_STUDY_STREAK":{let s=new Date().toISOString().split("T")[0],t=new Date(Date.now()-864e5).toISOString().split("T")[0],{lastStudyDate:r}=e.progress,a=e.progress.studyStreak;return r===t?a+=1:r!==s&&(a=1),{...e,progress:{...e.progress,studyStreak:a,lastStudyDate:s}}}case"SET_WEEKLY_GOAL":return{...e,progress:{...e.progress,weeklyGoal:s.payload}};case"ADD_ACHIEVEMENT":{let t=[...e.progress.achievements];return t.includes(s.payload)||t.push(s.payload),{...e,progress:{...e.progress,achievements:t}}}case"SET_LOADING":return{...e,isLoading:s.payload};case"SET_ERROR":return{...e,error:s.payload,isLoading:!1};case"RESET_PROGRESS":return{...c,progress:{...l}};default:return e}}let u=(0,o.createContext)(void 0);function m(e){let{children:s}=e,[t,i]=(0,o.useReducer)(d,c),{user:m}=(0,a.A)(),x=(0,n.t)(),p=(0,o.useRef)(null);(0,o.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("tco-progress");if(e)try{let s=JSON.parse(e);i({type:"LOAD_PROGRESS",payload:s})}catch(e){console.error("Failed to load progress from localStorage:",e),i({type:"LOAD_PROGRESS",payload:l})}else i({type:"LOAD_PROGRESS",payload:l})};(async()=>{if(m)try{i({type:"LOAD_PROGRESS",payload:l})}catch(s){console.error("Failed to load progress from database:",s),e()}else e()})()},[null==m?void 0:m.id]);let g=(0,o.useCallback)(async e=>{if(!t.isLoading&&e.totalQuestions>0){let s=JSON.stringify(e);if(p.current!==s)if(p.current=s,m)try{for(let[s,t]of Object.entries(e.domainScores))t.questionsAnswered>0&&await x.upsertUserStatistics({category:s,total_questions:t.questionsAnswered,correct_answers:t.correctAnswers,accuracy_rate:t.score,average_time:t.questionsAnswered>0?t.timeSpent/t.questionsAnswered:0})}catch(e){console.error("Failed to save progress to database:",e),localStorage.setItem("tco-progress",s)}else localStorage.setItem("tco-progress",s)}},[null==m?void 0:m.id,x]);(0,o.useEffect)(()=>{g(t.progress)},[t.progress.totalQuestions,t.progress.correctAnswers,t.progress.sessionCount,t.progress.studyStreak,t.progress.hoursStudied,t.progress.averageScore,t.progress.weeklyProgress,t.progress.achievements.length]);let h=(0,o.useCallback)(()=>({totalQuestions:t.progress.totalQuestions,averageScore:t.progress.averageScore,studyStreak:t.progress.studyStreak,hoursStudied:Math.round(10*t.progress.hoursStudied)/10,readinessLevel:t.progress.examReadiness}),[t.progress.totalQuestions,t.progress.averageScore,t.progress.studyStreak,t.progress.hoursStudied,t.progress.examReadiness]),f=(0,o.useCallback)(()=>Object.entries(t.progress.domainScores).map(e=>{let[s,t]=e;return{domain:s,score:t.score,questionsAnswered:t.questionsAnswered,correctAnswers:t.correctAnswers,timeSpent:t.timeSpent,percentage:t.questionsAnswered>0?Math.round(t.correctAnswers/t.questionsAnswered*100):0}}),[t.progress.domainScores]),N=(0,o.useCallback)(()=>({current:t.progress.weeklyProgress,goal:t.progress.weeklyGoal,percentage:Math.round(t.progress.weeklyProgress/t.progress.weeklyGoal*100)}),[t.progress.weeklyProgress,t.progress.weeklyGoal]);return(0,r.jsx)(u.Provider,{value:{state:t,updateSessionStats:(e,s,r,a)=>{i({type:"UPDATE_SESSION_STATS",payload:{score:e,questionsCount:s,timeSpent:r,domain:a}}),i({type:"UPDATE_STUDY_STREAK"}),100===e&&i({type:"ADD_ACHIEVEMENT",payload:"Perfect Score"}),t.progress.studyStreak>=7&&i({type:"ADD_ACHIEVEMENT",payload:"Week Warrior"}),t.progress.totalQuestions>=100&&i({type:"ADD_ACHIEVEMENT",payload:"Centurion"})},setWeeklyGoal:e=>{i({type:"SET_WEEKLY_GOAL",payload:e})},getOverallStats:h,getDomainStats:f,getWeeklyProgress:N,resetProgress:()=>{localStorage.removeItem("tco-progress"),p.current=null,i({type:"RESET_PROGRESS"})}},children:s})}function x(){let e=(0,o.useContext)(u);if(void 0===e)throw Error("useProgress must be used within a ProgressProvider");return e}},80991:(e,s,t)=>{"use strict";t.d(s,{k:()=>o});var r=t(95155),a=t(12115),n=t(9484),i=t(64269);let o=a.forwardRef((e,s)=>{let{className:t,value:a,...o}=e;return(0,r.jsx)(n.bL,{ref:s,className:(0,i.cn)("relative h-2 w-full overflow-hidden rounded-full bg-slate-800/60 border border-cyan-500/20 shadow-[0_0_10px_rgba(34,211,238,0.05)]",t),...o,children:(0,r.jsx)(n.C1,{className:"h-full w-full flex-1 bg-gradient-to-r from-cyan-500 to-sky-400 transition-all duration-300 ease-out shadow-[0_0_15px_rgba(34,211,238,0.3)]",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});o.displayName=n.bL.displayName},86948:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>u});var r=t(95155),a=t(12115),n=t(64269);let i=a.forwardRef((e,s)=>{let{className:t,variant:a="cyberpunk",...i}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-xl border text-card-foreground shadow",{default:"bg-card",cyberpunk:"relative bg-black/20 backdrop-blur-xl border-cyan-500/20 text-cyan-100 shadow-[0_0_50px_rgba(34,211,238,0.1)] transition-all duration-200 ease-out hover:shadow-[0_0_80px_rgba(34,211,238,0.15)] hover:scale-[1.03] hover:-translate-y-0.5 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400/50"}[a],t),...i})});i.displayName="Card";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("font-semibold leading-none tracking-tight",t),...a})});l.displayName="CardTitle";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent";let u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"}},e=>{e.O(0,[5105,4909,5376,5040,8968,2268,488,6093,7887,7562,5404,1055,8998,103,8441,1255,7358],()=>e(e.s=27880)),_N_E=e.O()}]);